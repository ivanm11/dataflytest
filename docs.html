<p><title>Datafly Starter Documentation</title>
<link href="static/css/docs.css" rel="stylesheet"></p>

<script src="http://code.jquery.com/jquery-2.0.0b1.js"></script>

<script src="static/js/docs.js"></script>

<h1>DATAFLY STARTER</h1>

<ol>
<li><a href="#chapter1">Goals</a></li>
<li><a href="#chapter2">Requirements</a></li>
<li><a href="#chapter3">New Project</a></li>
<li><a href="#chapter4">Server</a></li>
</ol>

<h2>Goals</h2>

<ol>
<li><p>Useful local &amp; server commands for <a href="http://http://docs.fabfile.org/">Fabric</a></p>

<p>1.1 Setup local and remote git repositories, add staging branch</p>

<p>1.2 Install and configure nginx/uwsgi or apache/mod_wsgi</p></li>
<li><p>Start project from template (ex. <em>bottle_mongo</em>)</p></li>
<li><p>Shared python modules and css/js files between all Datafly projects.</p></li>
</ol>

<h2>Requirements</h2>

<p>Please, install latest versions of <a href="http://http://docs.fabfile.org/">Fabric</a>
and <a href="http://pyyaml.org/wiki/PyYAMLDocumentation">PyYAML</a> packages globally:</p>

<pre><code>$ sudo pip install Fabric --upgrade
$ sudo pip install PyYAML --upgrade
</code></pre>

<p>If you're working on docs, install
<a href="https://github.com/trentm/python-markdown2">markdown2</a> package globally:</p>

<pre><code>$ sudo pip install markdown2 --upgrade

# compile docs with fabric
$ fab compile_docs
</code></pre>

<h2>New project</h2>

<p>Make new project dir and clone datafly starter repository inside it:</p>

<pre><code>$ mkdir new_project &amp;&amp; cd new_project
$ git clone ssh://root@96.126.102.11/var/www/datafly.git
</code></pre>

<p>Copy config.example.yaml to your project folder and edit it:</p>

<pre><code>$ cp datafly/config.example.yaml config.yaml
</code></pre>

<p>New project based on a type in config.yaml:</p>

<pre><code># config.yaml
project:
    type: 'bottle_mongo'

# shell
$ cd datafly &amp;&amp; fab new_project
</code></pre>

<p>To run using virtualenv:</p>

<pre><code>$ cd script &amp;&amp; fab run
</code></pre>

<h2>Server</h2>

<p>Please, define your configuration in config.yaml:</p>

<pre><code>server:
    type: 'nginx_uwsgi'
</code></pre>

<p>To install web server run:</p>

<pre><code>$ fab server:install
</code></pre>

<p>To add local configuration files:</p>

<pre><code>$ fab conf
</code></pre>

<p>Configuration files are copied to <em>/server</em> folder. You can edit them before
upload with next command.</p>

<p>To configure new virtual host and add wsgi configuration:</p>

<pre><code>$ fab server:configure
</code></pre>
